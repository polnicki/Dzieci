<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Hide Text in Table</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="uk-flag.ico" type="image/x-icon">
    <style>
        :root {
            --border-color: #000;
            --padding: 10px;
            --font-size: 12px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        table, th, td {
            border: 1px solid var(--border-color);
        }

        td {
            padding: var(--padding);
            text-align: center;
            font-family: inherit;
        }

        tr {
            font-size: var(--font-size);
        }

        .hidden {
            visibility: hidden;
        }

        .button-group {
            margin-bottom: 15px;
        }

        button {
            padding: 8px 16px;
            margin-right: 10px;
            cursor: pointer;
        }

        .contact-info {
            margin-top: 20px;
        }


    </style>
</head>
<body>
<h3>
    <i class="fas fa-book"/> Irregular Verbs Table</h3>
<div class="button-group">
    <button onclick="hideRandomCells('easy')">EASY</button>
    <button onclick="hideRandomCells('medium')">MEDIUM</button>
    <button onclick="hideRandomCells('hard')">HARD</button>
<!--    <button id="toggleFourthColumn">Zostaw tłumaczenie</button>-->
    <button onclick="location.reload()">RESET</button>
    <!--	<input type="text" id="searchInput" placeholder="Search verbs...">
            <button onclick="filterTable()">FILTER</button>-->
<!--            <button onclick="printToPDF()">EXPORT TO PDF</button>-->

<!--    <div class="radio-group">-->
<!--        <label class="radio-label">-->
<!--            <input type="radio"-->
<!--                   name="translationToggle"-->
<!--                   value="true"-->
<!--                   checked-->
<!--            >-->
<!--            Ukryj tłumaczenie-->
<!--        </label>-->

<!--        <label class="radio-label">-->
<!--            <input type="radio"-->
<!--                   name="translationToggle"-->
<!--                   value="false"-->
<!--            >-->
<!--            Zostaw tłumaczenie-->
<!--        </label>-->
<!--    </div>-->


    <!-- New range filter controls -->
    <div class="range-filter">
        <input type="number" id="startRow" placeholder="Start Row" min="1">
        <input type="number" id="endRow" placeholder="End Row" min="1">
        <button onclick="filterByRange()">FILTER RANGE</button>
        <button onclick="showAllRows()">SHOW ALL</button>
    </div>




    <!-- Add new PDF export controls -->
<!--    <div class="pdf-controls">-->
<!--        <h4>PDF Export Options</h4>-->
<!--        <div class="pdf-options">-->
<!--            <div class="option-group">-->
<!--                <label>Orientation:</label>-->
<!--                <select id="pdfOrientation">-->
<!--                    <option value="portrait">Portrait</option>-->
<!--                    <option value="landscape">Landscape</option>-->
<!--                </select>-->
<!--            </div>-->
<!--            <div class="option-group">-->
<!--                <label>Export:</label>-->
<!--                <select id="exportOption">-->
<!--                    <option value="all">All Rows</option>-->
<!--                    <option value="visible">Visible Rows Only</option>-->
<!--                    <option value="unhidden">Unhidden Cells Only</option>-->
<!--                </select>-->
<!--            </div>-->
<!--            <div class="option-group">-->
<!--                <label>Page Size:</label>-->
<!--                <select id="pageSize">-->
<!--                    <option value="a4">A4</option>-->
<!--                    <option value="letter">Letter</option>-->
<!--                    <option value="legal">Legal</option>-->
<!--                </select>-->
<!--            </div>-->
<!--            <button onclick="exportToPDF()" class="export-btn">-->
<!--                <i class="fas fa-file-pdf"></i> Export to PDF-->
<!--            </button>-->
<!--        </div>-->
<!--    </div>-->


</div>
<table id="myTable">
    <tr>
        <th>#</th>
        <th>Base Form</th>
        <th>Past Simple</th>
        <th>Past Participle</th>
        <th>Translation</th>
    </tr>
    <tr>
        <td class="row-number">1</td>
        <td>be</td>
        <td>was/were</td>
        <td>been</td>
        <td>być</td>
    </tr>
    <tr>
        <td class="row-number">2</td>
        <td>beat</td>
        <td>beat</td>
        <td>beaten</td>
        <td>uderzać, bić</td>
    </tr>
    <tr>
        <td class="row-number">3</td>
        <td>become</td>
        <td>became</td>
        <td>become</td>
        <td>stawać się</td>
    </tr>
    <tr>
        <td class="row-number">4</td>
        <td>begin</td>
        <td>began</td>
        <td>begun</td>
        <td>zaczynać (się)</td>
    </tr>
    <tr>
        <td class="row-number">5</td>
        <td>bite</td>
        <td>bit</td>
        <td>bitten</td>
        <td>gryźć</td>
    </tr>
    <tr>
        <td class="row-number">6</td>
        <td>blow</td>
        <td>blew</td>
        <td>blown</td>
        <td>wiać, dmuchać</td>
    </tr>
    <tr>
        <td class="row-number">7</td>
        <td>break</td>
        <td>broke</td>
        <td>broken</td>
        <td>łamać, tłuc</td>
    </tr>
    <tr>
        <td class="row-number">8</td>
        <td>bring</td>
        <td>brought</td>
        <td>brought</td>
        <td>przynosić</td>
    </tr>
    <tr>
        <td class="row-number">9</td>
        <td>build</td>
        <td>built</td>
        <td>built</td>
        <td>budować</td>
    </tr>
    <tr>
        <td class="row-number">10</td>
        <td>burn</td>
        <td>burnt/burned</td>
        <td>burnt/burned</td>
        <td>palić (się)</td>
    </tr>
    <tr>
        <td class="row-number">11</td>
        <td>buy</td>
        <td>bought</td>
        <td>bought</td>
        <td>kupować</td>
    </tr>
    <tr>
        <td class="row-number">12</td>
        <td>catch</td>
        <td>caught</td>
        <td>caught</td>
        <td>łapać</td>
    </tr>
    <tr>
        <td class="row-number">13</td>
        <td>choose</td>
        <td>chose</td>
        <td>chosen</td>
        <td>wybierać</td>
    </tr>
    <tr>
        <td class="row-number">14</td>
        <td>come</td>
        <td>came</td>
        <td>come</td>
        <td>przychodzić, przyjeżdżać</td>
    </tr>
    <tr>
        <td class="row-number">15</td>
        <td>cost</td>
        <td>cost</td>
        <td>cost</td>
        <td>kosztować</td>
    </tr>
    <tr>
        <td class="row-number">16</td>
        <td>cut</td>
        <td>cut</td>
        <td>cut</td>
        <td>ciąć, skaleczyć się</td>
    </tr>
    <tr>
        <td class="row-number">17</td>
        <td>do</td>
        <td>did</td>
        <td>done</td>
        <td>robić</td>
    </tr>
    <tr>
        <td class="row-number">18</td>
        <td>draw</td>
        <td>drew</td>
        <td>drawn</td>
        <td>rysować, ciągnąć</td>
    </tr>
    <tr>
        <td class="row-number">19</td>
        <td>dream</td>
        <td>dreamt/dreamed</td>
        <td>dreamt/dreamed</td>
        <td>śnić, marzyć</td>
    </tr>
    <tr>
        <td class="row-number">20</td>
        <td>drink</td>
        <td>drank</td>
        <td>drunk</td>
        <td>pić</td>
    </tr>

    <tr>
        <td class="row-number">21</td>
        <td>drive</td>
        <td>drove</td>
        <td>driven</td>
        <td>prowadzić (samochód)</td>
    </tr>
    <tr>
        <td class="row-number">22</td>
        <td>eat</td>
        <td>ate</td>
        <td>eaten</td>
        <td>jeść</td>
    </tr>
    <tr>
        <td class="row-number">23</td>
        <td>fall</td>
        <td>fell</td>
        <td>fallen</td>
        <td>padać, upadać</td>
    </tr>
    <tr>
        <td class="row-number">24</td>
        <td>feed</td>
        <td>fed</td>
        <td>fed</td>
        <td>karmić</td>
    </tr>
    <tr>
        <td class="row-number">25</td>
        <td>feel</td>
        <td>felt</td>
        <td>felt</td>
        <td>czuć</td>
    </tr>
    <tr>
        <td class="row-number">26</td>
        <td>fight</td>
        <td>fought</td>
        <td>fought</td>
        <td>walczyć</td>
    </tr>
    <tr>
        <td class="row-number">27</td>
        <td>find</td>
        <td>found</td>
        <td>found</td>
        <td>znajdować</td>
    </tr>
    <tr>
        <td class="row-number">28</td>
        <td>fly</td>
        <td>flew</td>
        <td>flown</td>
        <td>latać, fruwać</td>
    </tr>

    <tr>
        <td class="row-number">29</td>
        <td>forget</td>
        <td>forgot</td>
        <td>forgotten</td>
        <td>zapominać</td>
    </tr>
    <tr>
        <td class="row-number">30</td>
        <td>get</td>
        <td>got</td>
        <td>got</td>
        <td>dostawać</td>
    </tr>
    <tr>
        <td class="row-number">31</td>
        <td>give</td>
        <td>gave</td>
        <td>given</td>
        <td>dawać</td>
    </tr>
    <tr>
        <td class="row-number">32</td>
        <td>go</td>
        <td>went</td>
        <td>gone</td>
        <td>iść, jechać</td>
    </tr>
    <tr>
        <td class="row-number">33</td>
        <td>grow</td>
        <td>grew</td>
        <td>grown</td>
        <td>rosnąć</td>
    </tr>
    <tr>
        <td class="row-number">34</td>
        <td>have</td>
        <td>had</td>
        <td>had</td>
        <td>mieć</td>
    </tr>
    <tr>
        <td class="row-number">35</td>
        <td>hear</td>
        <td>heard</td>
        <td>heard</td>
        <td>słyszeć</td>
    </tr>
    <tr>
        <td class="row-number">36</td>
        <td>hide</td>
        <td>hid</td>
        <td>hidden</td>
        <td>kryć, chować</td>
    </tr>
    <tr>
        <td class="row-number">37</td>
        <td>hit</td>
        <td>hit</td>
        <td>hit</td>
        <td>uderzać</td>
    </tr>
    <tr>
        <td class="row-number">38</td>
        <td>hold</td>
        <td>held</td>
        <td>held</td>
        <td>trzymać</td>
    </tr>
    <tr>
        <td class="row-number">39</td>
        <td>hurt</td>
        <td>hurt</td>
        <td>hurt</td>
        <td>boleć, ranić</td>
    </tr>
    <tr>
        <td class="row-number">40</td>
        <td>keep</td>
        <td>kept</td>
        <td>kept</td>
        <td>trzymać</td>
    </tr>

    <tr>
        <td class="row-number">41</td>
        <td>know</td>
        <td>knew</td>
        <td>known</td>
        <td>wiedzieć, znać</td>
    </tr>
    <tr>
        <td class="row-number">42</td>
        <td>lead</td>
        <td>led</td>
        <td>led</td>
        <td>prowadzić (być pierwszym)</td>
    </tr>
    <tr>
        <td class="row-number">43</td>
        <td>learn</td>
        <td>learnt/learned</td>
        <td>learnt/learned</td>
        <td>uczyć się</td>
    </tr>
    <tr>
        <td class="row-number">44</td>
        <td>leave</td>
        <td>left</td>
        <td>left</td>
        <td>wyjeżdżać, opuszczać</td>
    </tr>
    <tr>
        <td class="row-number">45</td>
        <td>lend</td>
        <td>lent</td>
        <td>lent</td>
        <td>pożyczać (komuś)</td>
    </tr>
    <tr>
        <td class="row-number">46</td>
        <td>let</td>
        <td>let</td>
        <td>let</td>
        <td>pozwalać</td>
    </tr>
    <tr>
        <td class="row-number">47</td>
        <td>lose</td>
        <td>lost</td>
        <td>lost</td>
        <td>gubić</td>
    </tr>
    <tr>
        <td class="row-number">48</td>
        <td>make</td>
        <td>made</td>
        <td>made</td>
        <td>robić</td>
    </tr>
    <tr>
        <td class="row-number">49</td>
        <td>meet</td>
        <td>met</td>
        <td>met</td>
        <td>spotykać</td>
    </tr>
    <tr>
        <td class="row-number">50</td>
        <td>pay</td>
        <td>paid</td>
        <td>paid</td>
        <td>płacić</td>
    </tr>





    <tr>
        <td class="row-number">51</td>
        <td>put</td>
        <td>put</td>
        <td>put</td>
        <td>kłaść, położyć</td>
    </tr>
    <tr>
        <td class="row-number">52</td>
        <td>read</td>
        <td>read</td>
        <td>read</td>
        <td>czytać</td>
    </tr>
    <tr>
        <td class="row-number">53</td>
        <td>ride</td>
        <td>rode</td>
        <td>ridden</td>
        <td>jeździć (na rowerze)</td>
    </tr>
    <tr>
        <td class="row-number">54</td>
        <td>ring</td>
        <td>rang</td>
        <td>rung</td>
        <td>dzwonić</td>
    </tr>
    <tr>
        <td class="row-number">55</td>
        <td>run</td>
        <td>ran</td>
        <td>run</td>
        <td>biegać</td>
    </tr>
    <tr>
        <td class="row-number">56</td>
        <td>say</td>
        <td>said</td>
        <td>said</td>
        <td>mówić, powiedzieć</td>
    </tr>
    <tr>
        <td class="row-number">57</td>
        <td>see</td>
        <td>saw</td>
        <td>seen</td>
        <td>widzieć</td>
    </tr>
    <tr>
        <td class="row-number">58</td>
        <td>sell</td>
        <td>sold</td>
        <td>sold</td>
        <td>sprzedawać</td>
    </tr>
    <tr>
        <td class="row-number">59</td>
        <td>send</td>
        <td>sent</td>
        <td>sent</td>
        <td>wysyłać</td>
    </tr>
    <tr>
        <td class="row-number">60</td>
        <td>set</td>
        <td>set</td>
        <td>set</td>
        <td>nastawiać, trząść (się), potrząsać</td>
    </tr>
    <tr>
        <td class="row-number">61</td>
        <td>shake</td>
        <td>shook</td>
        <td>shaken</td>
        <td>potrząsać</td>
    </tr>
    <tr>
        <td class="row-number">62</td>
        <td>shoot</td>
        <td>shot</td>
        <td>shot</td>
        <td>strzelać</td>
    </tr>
    <tr>
        <td class="row-number">63</td>
        <td>show</td>
        <td>showed</td>
        <td>shown</td>
        <td>pokazywać</td>
    </tr>
    <tr>
        <td class="row-number">64</td>
        <td>shut</td>
        <td>shut</td>
        <td>shut</td>
        <td>zamykać</td>
    </tr>
    <tr>
        <td class="row-number">65</td>
        <td>sing</td>
        <td>sang</td>
        <td>sung</td>
        <td>śpiewać</td>
    </tr>
    <tr>
        <td class="row-number">66</td>
        <td>sit</td>
        <td>sat</td>
        <td>sat</td>
        <td>siedzieć</td>
    </tr>
    <tr>
        <td class="row-number">67</td>
        <td>sleep</td>
        <td>slept</td>
        <td>slept</td>
        <td>spać</td>
    </tr>
    <tr>
        <td class="row-number">68</td>
        <td>smell</td>
        <td>smelt/smelled</td>
        <td>smelt/smelled</td>
        <td>pachnieć</td>
    </tr>
    <tr>
        <td class="row-number">69</td>
        <td>speak</td>
        <td>spoke</td>
        <td>spoken</td>
        <td>mówić</td>
    </tr>
    <tr>
        <td class="row-number">70</td>
        <td>spend</td>
        <td>spent</td>
        <td>spent</td>
        <td>spędzać, wydawać</td>
    </tr>
    <tr>
        <td class="row-number">71</td>
        <td>stand</td>
        <td>stood</td>
        <td>stood</td>
        <td>stać</td>
    </tr>
    <tr>
        <td class="row-number">72</td>
        <td>steal</td>
        <td>stole</td>
        <td>stolen</td>
        <td>kraść</td>
    </tr>
    <tr>
        <td class="row-number">73</td>
        <td>swim</td>
        <td>swam</td>
        <td>swum</td>
        <td>pływać</td>
    </tr>
    <tr>
        <td class="row-number">74</td>
        <td>take</td>
        <td>took</td>
        <td>taken</td>
        <td>brać</td>
    </tr>
    <tr>
        <td class="row-number">75</td>
        <td>teach</td>
        <td>taught</td>
        <td>taught</td>
        <td>nauczać</td>
    </tr>
    <tr>
        <td class="row-number">76</td>
        <td>tell</td>
        <td>told</td>
        <td>told</td>
        <td>mówić, powiedzieć</td>
    </tr>

    <tr>
        <td class="row-number">77</td>
        <td>think</td>
        <td>thought</td>
        <td>thought</td>
        <td>myśleć, uważać</td>
    </tr>
    <tr>
        <td class="row-number">78</td>
        <td>throw</td>
        <td>threw</td>
        <td>thrown</td>
        <td>rzucać</td>
    </tr>
    <tr>
        <td class="row-number">79</td>
        <td>understand</td>
        <td>understood</td>
        <td>understood</td>
        <td>rozumieć</td>
    </tr>
    <tr>
        <td class="row-number">80</td>
        <td>wake (up)</td>
        <td>woke (up)</td>
        <td>woken (up)</td>
        <td>budzić się/kogoś</td>
    </tr>
    <tr>
        <td class="row-number">81</td>
        <td>wear</td>
        <td>wore</td>
        <td>worn</td>
        <td>nosić (na sobie)</td>
    </tr>
    <tr>
        <td class="row-number">82</td>
        <td>win</td>
        <td>won</td>
        <td>won</td>
        <td>wygrywać</td>
    </tr>
    <tr>
        <td class="row-number">83</td>
        <td>write</td>
        <td>wrote</td>
        <td>written</td>
        <td>pisać</td>
    </tr>





</table>
<!-- <div class="contact-info">
    <ul>
        <li>Email: <a href="mailto:polnicki@gmail.com">polnicki@gmail.com</a>
        </li>
    </ul>
</div> -->


<script>
    const difficultyLevels = Object.freeze({
        'easy': 1,
        'medium': 2,
        'hard': 3
    });

    let includeFourthColumn = true; // Initial state: 4th column is excluded

    function hideRandomCells(difficulty) {
        const cellsToHide = difficultyLevels[difficulty];
        if (!cellsToHide) return;

        const tbody = document.querySelector('#myTable tbody');
        if (!tbody) return;

        const rows = Array.from(tbody.children).slice(1);

        function shuffleArray(array, count) {
            // Filter out first column (index 0) and conditionally filter 4th column (index 3)
            const availableCells = array.filter((_, index) => {
                if (index === 0) return false; // Always exclude first column
                if (index === 3) return includeFourthColumn; // Conditionally exclude 4th column
                return true;
            });

            const length = availableCells.length;
            for (let i = 0; i < Math.min(count, length); i++) {
                const j = i + Math.floor(Math.random() * (length - i));
                [availableCells[i], availableCells[j]] =
                    [availableCells[j], availableCells[i]];
            }
            return availableCells.slice(0, count);
        }

        const fragment = document.createDocumentFragment();

        rows.forEach(row => {
            const cells = Array.from(row.children);

            cells.forEach(cell => cell.classList.remove('hidden'));

            const cellsToUpdate = shuffleArray([...cells], cellsToHide);

            cellsToUpdate.forEach(cell => cell.classList.add('hidden'));

            fragment.appendChild(row);
        });

        tbody.appendChild(fragment);
    }

    // Toggle button functionality
    // document.getElementById('toggleFourthColumn').addEventListener('click', function() {
    //     includeFourthColumn = !includeFourthColumn;
    //     this.textContent = includeFourthColumn ?
    //         "Ukrywaj tłumaczenie" :
    //         "Zostaw tłumaczenie";
    //
    //     // Optionally, re-apply the current difficulty after toggling
    //     // You'll need to keep track of the current difficulty elsewhere in your code
    //     // hideRandomCells(currentDifficulty);
    //
    // });

    const radioButtons = document.querySelectorAll('input[name="translationToggle"]');

    radioButtons.forEach(radio => {
        radio.addEventListener('change', function() {
            includeFourthColumn = this.value === 'false';

            // If you need to reapply the current difficulty
            // hideRandomCells(currentDifficulty);
        });
    });
</script>





<!--<script>-->
<!--    const difficultyLevels = {-->
<!--        'easy': 1,-->
<!--        'medium': 2,-->
<!--        'hard': 3-->
<!--    };-->

<!--    function hideRandomCells(difficulty) {-->
<!--        const rows = document.querySelectorAll('#myTable tr:not(:first-child)');-->
<!--        const cellsToHide = difficultyLevels[difficulty];-->

<!--        rows.forEach(row => {-->
<!--            const cells = Array.from(row.getElementsByTagName('td'));-->

<!--            // Clear previous hidden cells-->
<!--            cells.forEach(cell => cell.classList.remove('hidden'));-->

<!--            // Randomly select and hide new cells-->
<!--            const shuffledCells = cells-->
<!--                .map(value => ({ value, sort: Math.random() }))-->
<!--                .sort((a, b) => a.sort - b.sort)-->
<!--                .map(({ value }) => value)-->
<!--                .slice(0, cellsToHide);-->

<!--            shuffledCells.forEach(cell => cell.classList.add('hidden'));-->
<!--        });-->
<!--    }-->
<!--</script>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"/>-->
<script>
    // Add these new functions to your existing script
    // function filterTable() {
    //     const searchText = document.getElementById('searchInput').value.toLowerCase();
    //     const rows = document.querySelectorAll('#myTable tr:not(:first-child)');
    //
    //     rows.forEach(row => {
    //         const text = row.textContent.toLowerCase();
    //         if (text.includes(searchText)) {
    //             row.style.display = '';
    //         } else {
    //             row.style.display = 'none';
    //         }
    //     });
    // }

    function printToPDF() {
        const element = document.getElementById('myTable');
        const opt = {
            margin: 1,
            filename: 'irregular-verbs.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'in', format: 'letter', orientation: 'landscape' }
        };

        // Remove hidden class temporarily for PDF export
        const hiddenCells = document.querySelectorAll('.hidden');
        hiddenCells.forEach(cell => cell.classList.remove('hidden'));

        html2pdf().set(opt).from(element).save().then(() => {
            // Restore hidden class after PDF generation
            hiddenCells.forEach(cell => cell.classList.add('hidden'));
        });
    }

    // Add event listener for real-time filtering
    document.getElementById('searchInput').addEventListener('keyup', filterTable);
</script>

<script>
    // Add these new functions to your existing script
    function filterByRange() {
        const startRow = parseInt(document.getElementById('startRow').value) || 1;
        const endRow = parseInt(document.getElementById('endRow').value) || Number.MAX_SAFE_INTEGER;
        const rows = document.querySelectorAll('#myTable tr:not(:first-child)');

        rows.forEach((row, index) => {
            const rowNum = index + 1; // Adding 1 because index starts at 0
            if (rowNum >= startRow && rowNum <= endRow) {
                row.style.display = '';
            } else {
                row.style.display = 'none';
            }
        });

        // Update the endRow input max value if not set
        if (!document.getElementById('endRow').value) {
            document.getElementById('endRow').value = rows.length;
        }
    }

    function showAllRows() {
        const rows = document.querySelectorAll('#myTable tr');
        rows.forEach(row => row.style.display = '');

        // Clear the range inputs
        document.getElementById('startRow').value = '';
        document.getElementById('endRow').value = '';
    }

    // Add this to your existing window.onload or place it at the end of your script
    document.addEventListener('DOMContentLoaded', function() {
        // Set max values for inputs based on table size
        const totalRows = document.querySelectorAll('#myTable tr:not(:first-child)').length;
        document.getElementById('startRow').max = totalRows;
        document.getElementById('endRow').max = totalRows;
    });
</script>

<!--<script>-->
<!--    // Add this to your existing script section-->
<!--    async function exportToPDF() {-->
<!--        const orientation = document.getElementById('pdfOrientation').value;-->
<!--        const exportOption = document.getElementById('exportOption').value;-->
<!--        const pageSize = document.getElementById('pageSize').value;-->

<!--        // Clone the table so we don't modify the original-->
<!--        const tableClone = document.getElementById('myTable').cloneNode(true);-->

<!--        // Handle different export options-->
<!--        if (exportOption === 'visible') {-->
<!--            // Remove hidden rows-->
<!--            Array.from(tableClone.querySelectorAll('tr'))-->
<!--                .forEach(row => {-->
<!--                    if (row.style.display === 'none') {-->
<!--                        row.remove();-->
<!--                    }-->
<!--                });-->
<!--        }-->

<!--        if (exportOption === 'unhidden') {-->
<!--            // Remove hidden cells-->
<!--            tableClone.querySelectorAll('.hidden').forEach(cell => {-->
<!--                cell.classList.remove('hidden');-->
<!--                cell.textContent = ''; // Clear content of hidden cells-->
<!--            });-->
<!--        } else {-->
<!--            // Show all hidden cells for other export options-->
<!--            tableClone.querySelectorAll('.hidden').forEach(cell => {-->
<!--                cell.classList.remove('hidden');-->
<!--            });-->
<!--        }-->

<!--        // Create a container for the PDF content-->
<!--        const container = document.createElement('div');-->
<!--        container.appendChild(tableClone);-->

<!--        // Add title and date to the PDF-->
<!--        const title = document.createElement('h2');-->
<!--        title.textContent = 'Irregular Verbs Table';-->
<!--        container.insertBefore(title, container.firstChild);-->

<!--        const date = document.createElement('p');-->
<!--        date.textContent = `Generated on: ${new Date().toLocaleDateString()}`;-->
<!--        container.insertBefore(date, tableClone);-->

<!--        // Configure PDF options-->
<!--        const opt = {-->
<!--            margin: 10,-->
<!--            filename: `irregular-verbs-${new Date().toISOString().slice(0,10)}.pdf`,-->
<!--            image: { type: 'jpeg', quality: 0.98 },-->
<!--            html2canvas: { scale: 2 },-->
<!--            jsPDF: {-->
<!--                unit: 'mm',-->
<!--                format: pageSize,-->
<!--                orientation: orientation-->
<!--            }-->
<!--        };-->

<!--        // Show loading indicator-->
<!--        const loadingDiv = document.createElement('div');-->
<!--        loadingDiv.innerHTML = 'Generating PDF...';-->
<!--        loadingDiv.style.position = 'fixed';-->
<!--        loadingDiv.style.top = '50%';-->
<!--        loadingDiv.style.left = '50%';-->
<!--        loadingDiv.style.transform = 'translate(-50%, -50%)';-->
<!--        loadingDiv.style.padding = '20px';-->
<!--        loadingDiv.style.background = 'rgba(0,0,0,0.8)';-->
<!--        loadingDiv.style.color = 'white';-->
<!--        loadingDiv.style.borderRadius = '5px';-->
<!--        loadingDiv.style.zIndex = '1000';-->
<!--        document.body.appendChild(loadingDiv);-->

<!--        try {-->
<!--            await html2pdf().set(opt).from(container).save();-->
<!--        } catch (error) {-->
<!--            console.error('PDF generation failed:', error);-->
<!--            alert('Failed to generate PDF. Please try again.');-->
<!--        } finally {-->
<!--            loadingDiv.remove();-->
<!--        }-->
<!--    }-->

<!--    // Add event listener for orientation change-->
<!--    document.getElementById('pdfOrientation').addEventListener('change', function() {-->
<!--        const pageSize = document.getElementById('pageSize');-->
<!--        if (this.value === 'landscape') {-->
<!--            pageSize.value = 'a4'; // Default to A4 for landscape-->
<!--        }-->
<!--    });-->
<!--</script>-->

<script>
    class PDFExporter {
        constructor() {
            this.initializeEventListeners();
        }

        initializeEventListeners() {
            const orientationSelect = document.getElementById('pdfOrientation');
            if (orientationSelect) {
                orientationSelect.addEventListener('change', this.handleOrientationChange.bind(this));
            }
        }

        handleOrientationChange(event) {
            const pageSize = document.getElementById('pageSize');
            if (pageSize && event.target.value === 'landscape') {
                pageSize.value = 'a4';
            }
        }

        createLoadingIndicator() {
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'pdf-loading-indicator';
            loadingDiv.innerHTML = 'Generowanie PDF...';

            Object.assign(loadingDiv.style, {
                position: 'fixed',
                top: '50%',
                left: '50%',
                transform: 'translate(-50%, -50%)',
                padding: '20px',
                background: 'rgba(0,0,0,0.8)',
                color: 'white',
                borderRadius: '5px',
                zIndex: '1000',
                fontFamily: 'Arial, sans-serif'
            });

            return loadingDiv;
        }

        getConfig() {
            return {
                orientation: document.getElementById('pdfOrientation')?.value || 'portrait',
                exportOption: document.getElementById('exportOption')?.value || 'all',
                pageSize: document.getElementById('pageSize')?.value || 'a4'
            };
        }

        processTableForExport(tableClone, exportOption) {
            switch (exportOption) {
                case 'visible':
                    Array.from(tableClone.querySelectorAll('tr'))
                        .forEach(row => {
                            if (row.style.display === 'none') row.remove();
                        });
                    break;

                case 'unhidden':
                    tableClone.querySelectorAll('.hidden').forEach(cell => {
                        cell.classList.remove('hidden');
                        cell.textContent = '';
                    });
                    break;

                default:
                    tableClone.querySelectorAll('.hidden').forEach(cell => {
                        cell.classList.remove('hidden');
                    });
            }
        }

        createPDFContainer(tableClone) {
            const container = document.createElement('div');
            container.className = 'pdf-container';

            const title = document.createElement('h2');
            title.textContent = 'Irregular Verbs Table';
            container.appendChild(title);

            const date = document.createElement('p');
            date.textContent = `Generated on: ${new Date().toLocaleDateString()}`;
            container.appendChild(date);

            container.appendChild(tableClone);
            return container;
        }

        getPDFOptions(config) {
            return {
                margin: [10, 10, 10, 10],
                filename: `irregular-verbs-${new Date().toISOString().slice(0,10)}.pdf`,
                image: {
                    type: 'jpeg',
                    quality: 0.98
                },
                html2canvas: {
                    scale: 2,
                    useCORS: true,
                    logging: false,
                    letterRendering: true
                },
                jsPDF: {
                    unit: 'mm',
                    format: config.pageSize,
                    orientation: config.orientation,
                    compress: true,
                    precision: 2
                }
            };
        }

        async exportToPDF() {
            const loadingDiv = this.createLoadingIndicator();
            document.body.appendChild(loadingDiv);

            try {
                const config = this.getConfig();

                // Clone and process table
                const tableClone = document.getElementById('myTable')?.cloneNode(true);
                if (!tableClone) {
                    throw new Error('Table not found');
                }

                this.processTableForExport(tableClone, config.exportOption);

                // Create container and configure options
                const container = this.createPDFContainer(tableClone);
                const pdfOptions = this.getPDFOptions(config);

                // Generate PDF
                await html2pdf()
                    .set(pdfOptions)
                    .from(container)
                    .save();

            } catch (error) {
                console.error('PDF generation failed:', error);
                alert('Nie udało się wygenerować PDF. Spróbuj ponownie.');
            } finally {
                loadingDiv.remove();
            }
        }
    }

    // Initialize the PDF exporter
    const pdfExporter = new PDFExporter();

    // Export function to be called from HTML
    async function exportToPDF() {
        await pdfExporter.exportToPDF();
    }
</script>


<style>
    /* Add these styles to your existing CSS */
    .row-number {
        background-color: #f2f2f2;
        font-weight: bold;
        width: 40px;
        user-select: none;
    }

    /* Update your existing table styles */
    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
        table-layout: fixed;
        font-family: 'Times New Roman', sans-serif;
    }

    th:first-child {
        width: 40px;
    }

    /* Add these styles to your existing CSS */
    .range-filter {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 10px;
    }

    .range-filter input[type="number"] {
        width: 80px;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }

    /* Update existing button styles */
    button {
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 4px;
        padding: 8px 16px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    button:hover {
        background-color: #45a049;
    }

    /* Prevent number input arrows from being too large */
    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
        opacity: 1;
        height: 24px;
    }

    /* Make the button group responsive */
    .button-group {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 15px;
    }

    @media (max-width: 768px) {
        .range-filter {
            flex-wrap: wrap;
        }

        .range-filter input[type="number"] {
            width: 100%;
            max-width: 120px;
        }
    }


    /* Add these styles to your existing CSS */
    .pdf-controls {
        margin: 20px 0;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
        background-color: #f9f9f9;
    }

    .pdf-controls h4 {
        margin-top: 0;
        margin-bottom: 15px;
        color: #333;
    }

    .pdf-options {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        align-items: center;
    }

    .option-group {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .option-group label {
        font-weight: bold;
        color: #555;
    }

    .option-group select {
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
        background-color: white;
    }

    .export-btn {
        background-color: #2196F3;
        color: white;
        padding: 8px 16px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .export-btn:hover {
        background-color: #1976D2;
    }

    @media (max-width: 768px) {
        .pdf-options {
            flex-direction: column;
            align-items: stretch;
        }

        .option-group {
            flex-direction: column;
            align-items: stretch;
        }
    }


    .radio-group {
        display: flex;
        gap: 20px;
        margin: 10px 0;
    }

    .radio-label {
        display: flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
        padding: 8px;
        border-radius: 4px;
        transition: all 0.2s ease;
    }

    .radio-label:hover {
        background-color: rgba(0, 123, 255, 0.1);
    }

    .radio-label input[type="radio"] {
        appearance: none;
        -webkit-appearance: none;
        width: 20px;
        height: 20px;
        border: 2px solid #007bff;
        border-radius: 50%;
        margin: 0;
        cursor: pointer;
        position: relative;
    }

    .radio-label input[type="radio"]:checked {
        background-color: #007bff;
        border-color: #007bff;
    }

    .radio-label input[type="radio"]:checked::after {
        content: '';
        position: absolute;
        width: 10px;
        height: 10px;
        background-color: white;
        border-radius: 50%;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .radio-label input[type="radio"]:focus {
        outline: none;
        box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
    }
</style>

</body>
</html>
